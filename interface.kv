ScreenManager:
    TelaPrincipal:
    TelaCadastro:
    TelaCadastroSucesso:
    TelaLogado:
    TelaEsqueceuSenha:


<MinhaTopBar>:
    title: "Meu Aplicativo"
    right_action_items: [["logout", lambda x: root.funcaoLogout(x)]]
    left_action_items: [["help-box", lambda x: root.funcaoMenu(x)]]


<Texto@MDLabel>:
    font_name: "./fonts/bebas/Bebas-Regular.ttf"


<TextoErro@MDLabel>:
    markup: True
    theme_text_color: "Custom"
    text_color: 1, 0, 0, 1
    font_size: "12sp"


<Centralizador@MDFloatLayout>:
    # md_bg_color: 0.4, 0.4, 0.4, 1.0
    size_hint: None, None
    width: 362
    height: 60
    pos_hint: {"center_x": .5, "center_y": .5}


<Separador@MDFloatLayout>:
    # md_bg_color: 0.4, 0.4, 0.4, 1.0
    size_hint: None, None
    width: 362
    height: 20
    pos_hint: {"center_x": .5, "center_y": .5}


<BotaoPadrao@MDFillRoundFlatButton>:
    pos_hint: {"center_x": .5, "center_y": .5}
    text_color: "white"
    font_size: "20sp"
    halign: "center"
    font_name: "./fonts/bebas/Bebas-Regular.ttf"


<TelaPrincipal>
    name: "tela_principal"
    
    MDFlatButton:
        markup: True
        text:'[u][size=16]Esqueceu sua senha?[/size][/u]'
        halign: 'center'
        theme_text_color: "Custom"
        text_color: 0, 0, 1, 1
        pos_hint: {"center_x": .5, "center_y": .4}
        on_release:
            app.root.current = "tela_esqueceu_senha"
            app.root.transition.direction = "left"
 
    MDLabel:
        pos_hint: {"center_x": .5, "center_y": .05}
        text:'Criado por: Djalma Filho @3Djhey'
        theme_text_color: "Custom"
        halign: "center"
        text_color: 0, 0, 0, 0.25

    MDBoxLayout:
        orientation: "vertical"
        # Semrpe no Topo
        MinhaTopBar:

        Texto:
            text: "Tela de Login"
            font_size: "28sp"
            halign: "center"

        MDFloatLayout:
            # md_bg_color: 1.0, 0.0, 0.0, 0.2
            size_hint: .8, 1
            height: 0
            pos_hint: {"center_x": .50, "center_y": .50}

            MDBoxLayout:
                # md_bg_color: 0.4, 0.4, 0.4, 1.0
                orientation:'vertical'
                size_hint: .9, .1
                height: 0
                # Controla a Subida da Caixa
                pos_hint: {"center_x": .5, "center_y": .500}

                # USUARIO
                MDTextField:
                    mode: "rectangle"
                    hint_text: "Usuário"
                # TEXTO EM BAIXO DO USUARIO
                Separador:
                    height: 7
                TextoErro:
                    text: "[i]Forneça um usuário válido[/i]"
                Separador:
                    height: 8

                # SENHA
                MDTextField:
                    mode: "rectangle"  
                    hint_text: "Senha"
                    password: True
                # TEXTO EM BAIXO DA SENHA
                Separador:
                    height: 7
                TextoErro:
                    text: "[i]Forneça uma usuário válido[/i]"
                Separador:
                    height: 8

                Separador:

                Centralizador:
                    orientation: "horizontal"
                    
                    BotaoPadrao:
                        pos_hint: {"center_x": .25, "center_y": .5}
                        text: "     Login     "
                        on_release:
                            app.root.current = "tela_logado"
                            app.root.transition.direction = "left"
                    
                    BotaoPadrao:
                        pos_hint: {"center_x": .75, "center_y": .5}
                        text: "Registra-se"
                        on_release:
                            app.root.current = "tela_cadastro"
                            app.root.transition.direction = "left"

        MDLabel:     
        

<TelaCadastro>
    name: "tela_cadastro"

    MDBoxLayout:
        orientation: "vertical"
        # Semrpe no Topo
        MinhaTopBar:
        
        Texto:
            text: "Tela de Cadastro"
            font_size: "28sp"
            halign: "center"

        MDLabel:

        MDFloatLayout:
            # md_bg_color: 1.0, 0.0, 0.0, 0.2
            size_hint: .8, 1
            height: 0
            pos_hint: {"center_x": .50, "center_y": .50}

            MDBoxLayout:
                # md_bg_color: 0, 1, 0, 0.4
                orientation:'vertical'
                size_hint: .9, .1
                height: 0
                pos_hint: {"center_x": .5, "center_y": .9}
                # Controla a Subida da Caixa

                # NOVO USUARIO
                MDTextField:
                    mode: "rectangle"
                    hint_text: "Nome do usuário"
                Separador:
                    height: 7
                TextoErro:
                    text: "[i]Forneça um nome de usuário válido[/i]"
                Separador:
                    height: 8

                # EMAIL
                MDTextField:
                    mode: "rectangle"  
                    hint_text: "Digite seu e-mail"
                Separador:
                    height: 7
                TextoErro:
                    text: "[i]Forneça um e-mail válido[/i]"
                Separador:
                    height: 8

                # SENHA
                MDTextField:
                    mode: "rectangle"  
                    hint_text: "Digite uma senha"
                    password: True
                Separador:
                    height: 7
                TextoErro:
                    text: "[i]A senha deve contém letras, números e símbolos[/i]"
                Separador:
                    height: 8

                # SENHA CONFIRMAÇÃO
                MDTextField:
                    mode: "rectangle"  
                    hint_text: "Confirme sua senha"
                    password: True
                Separador:
                    height: 7
                TextoErro:
                    text: "[i]As senhas não são identicas.[/i]"

                
                Separador:

                Centralizador:
                    orientation: "horizontal"
                    
                    BotaoPadrao:
                        pos_hint: {"center_x": .25, "center_y": .5}
                        text: "     Voltar     "
                        on_release:
                            app.root.current = "tela_principal"           
                            app.root.transition.direction = "right"

                    BotaoPadrao:
                        pos_hint: {"center_x": .75, "center_y": .5}
                        text: "Registra-se" 
                        on_release:
                            app.root.current = "tela_cadastro_sucesso"
                            app.root.transition.direction = "left"  

<TelaCadastroSucesso>
    name: "tela_cadastro_sucesso"

    Image:
        pos_hint: {"center_x": .509, "center_y": .65}
        size_hint: .23, .23
        source: "./images/registrado.png"
        canvas.before:
            Color:
                rgb: 1, .85, .825, 1 

    MDBoxLayout:
        orientation: "vertical"
        # Semrpe no Topo
        MinhaTopBar:
        
        Texto:
            text: "Sucesso"
            font_size: "28sp"
            halign: "center"

        Texto:
            text: "Seu Cadastro foi realizado com sucesso,\npodes voltar ao Menu Principal e\nefetuar o login."
            halign: "center"
            
            
        BotaoPadrao:
            pos_hint: {"center_x": .5, "center_y": .5}
            text: "     Voltar     "
            on_release:
                app.root.current = "tela_principal"
                app.root.transition.direction = "right"

        MDLabel:
            

<TelaLogado>
    name: "tela_logado"
    
    
    Image:
        pos_hint: {"center_x": .5 , "center_y": .65}
        size_hint: .20, .20
        source: "./images/user.png"
    
    MDLabel:
        pos_hint: {"center_x": .5, "center_y": .50}
        text: 'Nome do usuário\ne-mail.do.usuario@gmail.com'
        halign: 'center'

    MDLabel:
        pos_hint: {"center_x": .5, "center_y": .400}
        text: "Você está atualmente ativo no banco de dados."
        halign: "center"

    MDBoxLayout:
        orientation: "vertical"
        # Semrpe no Topo
        MinhaTopBar:
        
        Texto:
            text: "Bem-vindo(a)!"
            font_size: "28sp"
            halign: "center"

        MDLabel:
            
            
        BotaoPadrao:
            pos_hint: {"center_x": .5, "center_y": .5}
            text: "     Voltar     "
            on_release:
                app.root.current = "tela_principal"
                app.root.transition.direction = "right"

        MDLabel:

<TelaEsqueceuSenha>
    name: "tela_esqueceu_senha"

    Image:
        pos_hint: {"center_x": .509, "center_y": .65}
        size_hint: .23, .23
        source: "./images/esqueceu-senha.png"
        canvas.before:
            Color:
                rgb: 1, .85, .825, 1 

    MDBoxLayout:
        orientation: "vertical"
        # Semrpe no Topo
        MinhaTopBar:
        
        Texto:
            text: "Esqueceu a Senha?"
            font_size: "28sp"
            halign: "center"

        Texto:
            text: "Infelizmente nossos servidores cairam,\n por isso estamos impossibilitados de fazer algo a respeito.\nPor favor, lembre da sua senha!"
            halign: "center"
            
            
        BotaoPadrao:
            pos_hint: {"center_x": .5, "center_y": .5}
            text: "     Voltar     "
            on_release:
                app.root.current = "tela_principal"
                app.root.transition.direction = "right"

        MDLabel: